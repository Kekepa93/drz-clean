<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - DrzClean</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
</head>
<body>
    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1><span class="accent">Contact</span></h1>
            <p>R√©servez votre cr√©neau ou demandez un devis personnalis√©</p>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact">
        <div class="container">
            <div class="contact-grid">
                <!-- Contact Info -->
                <div class="contact-info">
                    <h2>Nous <span class="accent">contacter</span></h2>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üìû</div>
                        <div class="contact-details">
                            <h3>T√©l√©phone</h3>
                            <p><a href="tel:+33123456789">01 23 45 67 89</a></p>
                            <span class="contact-note">R√©ponse rapide garantie</span>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">‚úâÔ∏è</div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <p><a href="mailto:contact@drzclean.fr">contact@drzclean.fr</a></p>
                            <span class="contact-note">Devis sous 24h</span>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="contact-form-container">
                    <h2>Demande de <span class="accent">devis</span></h2>

                    <!-- Formulaire -->
                    <form action="https://formspree.io/f/movwlgqk" method="POST" class="contact-form" id="contactForm">
                        <input type="hidden" name="_redirect" value="https://kekepa93.github.io/drz-clean/contact.html?success=1">
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nom">Nom *</label>
                                <input type="text" id="nom" name="nom" required>
                            </div>
                            <div class="form-group">
                                <label for="prenom">Pr√©nom *</label>
                                <input type="text" id="prenom" name="prenom" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="telephone">T√©l√©phone</label>
                                <input type="tel" id="telephone" name="telephone">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="vehicule">Type de v√©hicule *</label>
                            <select id="vehicule" name="vehicule" required>
                                <option value="">S√©lectionnez votre v√©hicule</option>
                                <option value="berline">Berline</option>
                                <option value="break">Break</option>
                                <option value="suv">SUV / 4x4</option>
                                <option value="monospace">Monospace</option>
                                <option value="coupe">Coup√© / Cabriolet</option>
                                <option value="utilitaire">Utilitaire</option>
                                <option value="moto">Moto</option>
                                <option value="autre">Autre</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="service">Service souhait√© *</label>
                            <select id="service" name="service" required>
                                <option value="">Choisissez un service</option>
                                <option value="express">Formule Express (25‚Ç¨)</option>
                                <option value="standard">Formule Standard (45‚Ç¨)</option>
                                <option value="premium">Formule Premium (75‚Ç¨)</option>
                                <option value="interieur">Int√©rieur seul (30‚Ç¨)</option>
                                <option value="carte">Service √† la carte</option>
                                <option value="devis">Devis personnalis√©</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="domicile">
                                <input type="checkbox" id="domicile" name="domicile">
                                Service √† domicile (+10‚Ç¨)
                            </label>
                        </div>

                        <div class="form-group" style="display: none;">
                            <label for="adresse">Adresse (si service √† domicile)</label>
                            <textarea id="adresse" name="adresse" rows="3" placeholder="Indiquez votre adresse compl√®te"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="message">Message / Demandes particuli√®res</label>
                            <textarea id="message" name="message" rows="4" placeholder="D√©crivez vos besoins sp√©cifiques, l'√©tat du v√©hicule, ou toute autre information utile..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="date">Date souhait√©e</label>
                            <input type="date" id="date" name="date">
                        </div>

                        <div class="form-group">
                            <label for="heure">Cr√©neau horaire pr√©f√©r√©</label>
                            <select id="heure" name="heure">
                                <option value="">Pas de pr√©f√©rence</option>
                                <option value="matin">Matin (8h-12h)</option>
                                <option value="aprem">Apr√®s-midi (12h-17h)</option>
                                <option value="soir">Fin de journ√©e (17h-19h)</option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-primary btn-large">
                            <span class="btn-text">Envoyer la demande</span>
                            <span class="btn-loading">Envoi en cours...</span>
                        </button>

                        <div class="form-note">
                            <p><strong>R√©ponse garantie sous 2h en journ√©e !</strong></p>
                            <p>* Champs obligatoires</p>
                        </div>
                    </form>

                    <!-- Success Message -->
                    <div id="successMessage" class="success-message">
                        <div class="success-content">
                            <div class="success-icon">‚úÖ</div>
                            <h3>Message envoy√© avec succ√®s !</h3>
                            <p>Merci pour votre demande. Nous vous recontactons tr√®s rapidement pour confirmer votre rendez-vous.</p>
                            <p style="margin-top: 15px; font-size: 14px;">
                                <strong>R√©ponse garantie sous 2h en journ√©e !</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // ===== CONTACT FORM HANDLING =====
        document.addEventListener('DOMContentLoaded', function() {
            initializeContactForm();
        });

        function initializeContactForm() {
            const contactForm = document.getElementById('contactForm');
            const successMessage = document.getElementById('successMessage');
            
            if (!contactForm || !successMessage) return;

            // V√©rifier si l'URL contient le param√®tre success
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('success')) {
                // Masquer le formulaire et afficher le message de succ√®s
                contactForm.style.display = 'none';
                successMessage.classList.add('show');
                
                // Faire d√©filer vers le message de succ√®s
                successMessage.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
                
                // Nettoyer l'URL pour √©viter de r√©-afficher le message lors du rechargement
                window.history.replaceState({}, document.title, window.location.pathname);
                
                // Optionnel : masquer le message apr√®s quelques secondes et r√©afficher le formulaire
                setTimeout(() => {
                    successMessage.classList.remove('show');
                    contactForm.style.display = 'grid';
                }, 10000); // 10 secondes
            }

            // Gestion du loader pendant l'envoi
            contactForm.addEventListener('submit', function(e) {
                const submitBtn = contactForm.querySelector('button[type="submit"]');
                const btnText = submitBtn.querySelector('.btn-text');
                const btnLoading = submitBtn.querySelector('.btn-loading');

                if (btnText && btnLoading) {
                    btnText.style.display = 'none';
                    btnLoading.style.display = 'inline';
                    submitBtn.disabled = true;
                }
            });

            // Gestion de l'affichage de l'adresse si service √† domicile
            const domicileCheckbox = document.getElementById('domicile');
            const adresseField = document.getElementById('adresse');

            if (domicileCheckbox && adresseField) {
                domicileCheckbox.addEventListener('change', function() {
                    const adresseGroup = adresseField.parentElement;
                    if (domicileCheckbox.checked) {
                        adresseField.required = true;
                        adresseGroup.style.display = 'flex';
                    } else {
                        adresseField.required = false;
                        adresseGroup.style.display = 'none';
                        adresseField.value = ''; // Vider le champ si non n√©cessaire
                    }
                });
            }

            // D√©finir la date minimum √† aujourd'hui
            const dateInput = document.getElementById('date');
            if (dateInput) {
                const today = new Date().toISOString().split('T')[0];
                dateInput.min = today;
            }
        }
    </script>
</body>
</html>
